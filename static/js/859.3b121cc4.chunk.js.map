{"version":3,"file":"static/js/859.3b121cc4.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/reusableComponents/Section/Section.js","pages/Home/Home.jsx","services/themoviedb-API.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const ListItem = styled.li`\n  :not(:last-child) {\n    margin-bottom: 6px;\n  }\n`;\n\nexport const MovieLink = styled(Link)`\n  color: inherit;\n\n  transition: color, 250ms;\n\n  :hover {\n    color: ${({ theme }) => theme.colors.secondary};\n  }\n`;\n","/** @jsxImportSource theme-ui */\nimport PropTypes from 'prop-types';\nimport { ListItem, MovieLink } from './MoviesList.styled';\n\nexport default function MoviesList({ moviesData, location }) {\n  return (\n    <ul sx={{ mt: 3 }}>\n      {moviesData.map(({ id, title }) => (\n        <ListItem key={id}>\n          <MovieLink to={`/movies/${id}`} state={{ from: location }}>\n            {title}\n          </MovieLink>\n        </ListItem>\n      ))}\n    </ul>\n  );\n}\n\nMoviesList.propTypes = {\n  moviesData: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  location: PropTypes.shape({}).isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Section = styled.section`\n  padding: 32px;\n`;\n","import * as API from 'services/themoviedb-API';\nimport { useState, useEffect } from 'react';\nimport MoviesList from 'components/MoviesList';\nimport { useLocation } from 'react-router-dom';\nimport { Section } from 'components/reusableComponents/Section/Section';\n\nexport default function Home() {\n  const [moviesData, setMoviesData] = useState([]);\n  const location = useLocation();\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    API.getTrendingMovies(controller)\n      .then(setMoviesData)\n      .catch(error => console.log('request error - ', error));\n\n    return () => {\n      controller.abort();\n    };\n  }, []);\n\n  return (\n    <Section>\n      <h1>Trending today:</h1>\n      {moviesData.length > 0 && (\n        <MoviesList moviesData={moviesData} location={location} />\n      )}\n    </Section>\n  );\n}\n","import axios from 'axios';\nimport noPhoto from '../images/no-photo.jpg';\n\nconst KEY = 'e8f4d647cde955cba1306001955cfd97';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w300';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst params = {\n  api_key: KEY,\n};\n\nexport const getTrendingMovies = async controller => {\n  const response = await axios.get('/trending/movie/week', {\n    params: params,\n    signal: controller.signal,\n  });\n  return normalizeMoviesData(response.data.results);\n};\n\nexport const fetchMovies = async (query, controller) => {\n  const searchParams = { ...params, query: query };\n\n  const response = await axios.get('/search/movie', {\n    params: searchParams,\n    signal: controller.signal,\n  });\n\n  return normalizeMoviesData(response.data.results);\n};\n\nexport const getMovieInfo = async (id, controller) => {\n  const response = await axios.get(`/movie/${id}`, {\n    params: params,\n    signal: controller.signal,\n  });\n\n  return normalizeMovieInfo(response.data);\n};\n\nexport const getMovieCast = async (id, controller) => {\n  const response = await axios.get(`/movie/${id}/credits`, {\n    params: params,\n    signal: controller.signal,\n  });\n\n  return normalizeCastData(response.data.cast);\n};\n\nexport const getMovieReviews = async id => {\n  const response = await axios.get(`/movie/${id}/reviews`, { params: params });\n\n  return normalizeReviewsData(response.data.results);\n};\n\nexport const normalizeMoviesData = data =>\n  data.map(({ id, title }) => ({ id, title }));\n\nexport const normalizeMovieInfo = movieInfo => {\n  const { poster_path, title, release_date, vote_average, genres, overview } =\n    movieInfo;\n\n  const genresList = genres.map(({ name }) => name).join(', ');\n  const userScore = Math.floor(vote_average * 10);\n  const releaseYear = parseInt(release_date);\n  const posterUrl = poster_path ? IMAGE_BASE_URL + poster_path : noPhoto;\n\n  return {\n    posterUrl,\n    title,\n    releaseYear,\n    userScore,\n    genresList,\n    overview,\n  };\n};\n\nexport const normalizeCastData = data => {\n  return data.map(({ id, name, character, profile_path }) => {\n    const fotoURL = profile_path ? IMAGE_BASE_URL + profile_path : noPhoto;\n    return { id, name, character, fotoURL };\n  });\n};\n\nexport const normalizeReviewsData = data => {\n  return data.map(({ id, author, content }) => ({ id, author, content }));\n};\n"],"names":["ListItem","styled","MovieLink","Link","theme","colors","secondary","MoviesList","moviesData","location","sx","mt","map","id","title","to","state","from","Section","Home","useState","setMoviesData","useLocation","useEffect","controller","AbortController","API","then","catch","error","console","log","abort","length","IMAGE_BASE_URL","axios","params","api_key","getTrendingMovies","signal","response","normalizeMoviesData","data","results","fetchMovies","query","searchParams","getMovieInfo","normalizeMovieInfo","getMovieCast","normalizeCastData","cast","getMovieReviews","normalizeReviewsData","movieInfo","poster_path","release_date","vote_average","genres","overview","genresList","name","join","userScore","Math","floor","releaseYear","parseInt","posterUrl","noPhoto","character","profile_path","fotoURL","author","content"],"sourceRoot":""}